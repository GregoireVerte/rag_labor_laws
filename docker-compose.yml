services:
  # Baza Wektorowa Qdrant
  qdrant:
    image: qdrant/qdrant
    container_name: qdrant-rag
    ports:
      - "6333:6333" # port API
      - "6334:6334" # port gRPC (opcjonalny, ale dobry standard)
    volumes:
      - ./qdrant_storage:/qdrant/storage # tu będą zapisywane wektory (trwale)
    restart: always

  # Narzędzie do automatyzacji n8n
  n8n:
    image: n8nio/n8n
    container_name: n8n-rag
    ports:
      - "5678:5678" # panel webowy n8n
    environment:
      - N8N_SECURE_COOKIE=false
      - WEBHOOK_URL=http://localhost:5678
    volumes:
      - ./n8n_data:/home/node/.n8n # tu będą zapisywane workflows
    restart: always